{% extends 'base.html.twig' %}
{% block title %}Jackpot Hackaton{% endblock %}
{% block stylesheets %}
    {#<link rel="stylesheet" href="css/slotmachine.css">#}

    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/slotmachine.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"
          type="text/css" />
{% endblock %}


{% block body %}

    <div id="randomize">
        <div class="container background"><a href="#" alt="oeuf" ><img src="images/oeufentier.png" style="width:54px;height:54px;" id="oeufentier"></a>
            {% for oeuf in oeufs | slice ( 37 , 1) %}
                <h1> Egg fact<img src="{{ oeuf }}" style="width:54px;height:54px;" />ry!</h1>
            {% endfor %}
            <div class="row">


                <div class="col-sm-4">
                    <div>
                        <div id="machine1" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}

                        </div>
                    </div>
                    <div id="machine1Result" class="col-xs-4 machineResult">Index: 0</div>
                </div>

                <div class="col-sm-4">
                    <div>
                        <div id="machine2" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="machine2Result" class="col-xs-4 machineResult">Index: 1</div>
                </div>

                <div class="col-sm-4">
                    <div>
                        <div id="machine3" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="machine3Result" class="col-xs-4 machineResult">Index: 2</div>
                </div>
                <div class="col-sm-4">
                    <div>
                        <div id="machine4" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="machine4Result" class="col-xs-4 machineResult">Index: 3</div>
                </div>
                <div class="col-sm-4">
                    <div>
                        <div id="machine5" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="machine5Result" class="col-xs-4 machineResult">Index: 3</div>
                </div>
                <div class="col-sm-4">
                    <div>
                        <div id="machine6" class="randomizeMachine">
                            {% for oeuf in oeufs | slice ( 0 , 8) %}
                                <div><img src="{{ oeuf }}" style="width:100px;height:100px;" /></div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="machine6Result" class="col-xs-4 machineResult">Index: 4</div>
                </div>

                <div class="btn-group btn-group-justified" role="group">
                    <button id="randomizeButton" type="button" class="btn btn-danger btn-lg">Shuffle</button>
                </div>
            </div>


        </div>
    </div>











{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>
    <script src="js/slotmachine.js"></script>
    <script src="js/jquery.slotmachine.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js"
            integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous">
    </script>

    <script>
        // Fill code blocks
        [1, 2, 3, 4, 5, 6].forEach((index) => {
            const script = document.querySelector(`#codeScript${index}`);
            const block = document.querySelector(`#codeBlock${index}`);

            block.innerText = script.innerText.replace(/^\n|\n\s*$/g, '');
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script>
        $("#oeufentier").click(function (){
            $(this).attr("src","/images/oeuf.png");
        });
    </script>
    <script id="codeScript2">
        const btn = document.querySelector('#randomizeButton');
        const results = {
            machine1: document.querySelector('#machine1Result'),
            machine2: document.querySelector('#machine2Result'),
            machine3: document.querySelector('#machine3Result'),
            machine4: document.querySelector('#machine4Result'),
            machine5: document.querySelector('#machine5Result'),
            machine6: document.querySelector('#machine6Result')
        };
        const el1 = document.querySelector('#machine1');
        const el2 = document.querySelector('#machine2');
        const el3 = document.querySelector('#machine3');
        const el4 = document.querySelector('#machine4');
        const el5 = document.querySelector('#machine5');
        const el6 = document.querySelector('#machine6');
        const machine1 = new SlotMachine(el1, {
            active: 0
        });
        const machine2 = new SlotMachine(el2, {
            active: 1
        });
        const machine3 = new SlotMachine(el3, {
            active: 2
        });
        const machine4 = new SlotMachine(el4, {
            active: 3
        });
        const machine5 = new SlotMachine(el5, {
            active: 4
        });
        const machine6 = new SlotMachine(el6, {
            active: 5
        });

        function onComplete(active) {
            results[this.element.id].innerText = `Index: ${this.active}`;
        }

        btn.addEventListener('click', () => {
            machine1.shuffle(5, onComplete);
            setTimeout(() => machine2.shuffle(5, onComplete), 300);
            setTimeout(() => machine3.shuffle(5, onComplete), 600);
            setTimeout(() => machine4.shuffle(5, onComplete), 900);
            setTimeout(() => machine5.shuffle(5, onComplete), 1200);
            setTimeout(() => machine6.shuffle(5, onComplete), 1500);
        });
    </script>

{% endblock %}
